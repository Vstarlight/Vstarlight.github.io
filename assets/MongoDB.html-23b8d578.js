import{_ as t,V as o,W as i,X as n,Y as p,Z as c,$ as s,C as r}from"./framework-7d796c00.js";const l="/assets/image-20220413085332378-7d287654.png",u="/assets/image-20220413090707891-e81b96d9.png",d="/assets/image-20220413090406721-4b21ac08.png",g="/assets/image-20220413090614205-bbe3f8e9.png",m="/assets/image-20220413090814836-346362e6.png",k="/assets/image-20220413090825381-0d49bf29.png",v="/assets/image-20220413090837613-7a53e760.png",b="/assets/image-20220413090858199-e35edc41.png",f="/assets/image-20220413090907539-22059b07.png",a="/assets/image-20220413090916971-d69cadb1.png",h={},_=s('<h1 id="mongodb" tabindex="-1"><a class="header-anchor" href="#mongodb" aria-hidden="true">#</a> MongoDB</h1><h2 id="_1-关系型与非关系型数据库" tabindex="-1"><a class="header-anchor" href="#_1-关系型与非关系型数据库" aria-hidden="true">#</a> 1.关系型与非关系型数据库</h2><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_2-安装数据库" tabindex="-1"><a class="header-anchor" href="#_2-安装数据库" aria-hidden="true">#</a> 2.安装数据库</h2>',7),y={href:"https://docs.mongodb.com/manual/administration/install-community/",target:"_blank",rel:"noopener noreferrer"},x=s(`<h2 id="_3-启动数据库" tabindex="-1"><a class="header-anchor" href="#_3-启动数据库" aria-hidden="true">#</a> 3.启动数据库</h2><h3 id="_1-windows" tabindex="-1"><a class="header-anchor" href="#_1-windows" aria-hidden="true">#</a> （1）windows</h3><div class="language-s line-numbers-mode" data-ext="s"><pre class="language-s"><code>mongod --dbpath d:/data/db
mongo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-mac" tabindex="-1"><a class="header-anchor" href="#_2-mac" aria-hidden="true">#</a> （2）mac</h3><div class="language-s line-numbers-mode" data-ext="s"><pre class="language-s"><code>mongod --config /usr/local/etc/mongod.conf
mongo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-在命令行中操作数据库" tabindex="-1"><a class="header-anchor" href="#_4-在命令行中操作数据库" aria-hidden="true">#</a> 4.在命令行中操作数据库</h2><figure><img src="`+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+v+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+f+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+a+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_5-可视化工具进行增删改查" tabindex="-1"><a class="header-anchor" href="#_5-可视化工具进行增删改查" aria-hidden="true">#</a> 5.可视化工具进行增删改查</h2><p>Robomongo Robo3T adminMongo</p><figure><img src="'+a+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_6-nodejs连接操作数据库" tabindex="-1"><a class="header-anchor" href="#_6-nodejs连接操作数据库" aria-hidden="true">#</a> 6.nodejs连接操作数据库</h2><p>连接数据库</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mongoose&quot;</span><span class="token punctuation">)</span>

mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;mongodb://127.0.0.1:27017/company-system&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建模型</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mongoose&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> Schema <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>Schema

<span class="token keyword">const</span> UserType <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span>String<span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span>String<span class="token punctuation">,</span>
    <span class="token literal-property property">gender</span><span class="token operator">:</span>Number<span class="token punctuation">,</span>
    <span class="token literal-property property">introduction</span><span class="token operator">:</span>String<span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span>String<span class="token punctuation">,</span>
    <span class="token literal-property property">role</span><span class="token operator">:</span>Number
<span class="token punctuation">}</span>
<span class="token keyword">const</span> UserModel <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span>UserType<span class="token punctuation">)</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports  <span class="token operator">=</span> UserModel 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>增加数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>UserModel<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    introduction<span class="token punctuation">,</span>username<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>avatar<span class="token punctuation">,</span>password<span class="token punctuation">,</span>role
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>UserModel<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span><span class="token string">&quot;kerwin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;role&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;introduction&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">createTime</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>更新数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>UserModel<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    _id
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    introduction<span class="token punctuation">,</span>username<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>avatar
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>删除数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>UserModel<span class="token punctuation">.</span><span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,28);function j(q,w){const e=r("ExternalLinkIcon");return o(),i("div",null,[_,n("p",null,[n("a",y,[p("https://docs.mongodb.com/manual/administration/install-community/"),c(e)])]),x])}const M=t(h,[["render",j],["__file","MongoDB.html.vue"]]);export{M as default};
