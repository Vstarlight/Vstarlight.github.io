import{_ as o,V as c,W as i,X as t,Y as n,Z as a,a0 as e,$ as p,C as l}from"./framework-7d796c00.js";const u={},r=p(`<h1 id="vue3-x-å…¨å±€æŒ‚è½½axiosæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#vue3-x-å…¨å±€æŒ‚è½½axiosæ–¹æ³•" aria-hidden="true">#</a> Vue3.X å…¨å±€æŒ‚è½½axiosæ–¹æ³•</h1><h2 id="_1-æ”¹å†™vueåŸå‹" tabindex="-1"><a class="header-anchor" href="#_1-æ”¹å†™vueåŸå‹" aria-hidden="true">#</a> 1.æ”¹å†™VUEåŸå‹</h2><p>åœ¨main.jsä¸­å¼•å…¥</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$http<span class="token operator">=</span> axios
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),d=p(`<p>åœ¨main.jsä¸­å¼•å…¥</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$http <span class="token operator">=</span> axios
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),k=p(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> proxy <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡Œçš„proxyç›¸å½“äºthis</p><p>ä½¿ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getCaptcha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ShowTime<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
    num<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">59</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> proxy<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">yanzheng</span><span class="token punctuation">(</span>User<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>status <span class="token operator">!=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;å¯èƒ½æ˜¯ç½‘ç»œé”™è¯¯å•¦~ğŸ˜Š&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                num<span class="token punctuation">.</span>value<span class="token operator">--</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                ShowTime<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-ä½¿ç”¨vue-axiosæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-ä½¿ç”¨vue-axiosæ’ä»¶" aria-hidden="true">#</a> 2.ä½¿ç”¨vue-axiosæ’ä»¶</h2><p>æ’ä»¶å®‰è£…</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save axios vue<span class="token operator">-</span>axios
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨main.jsä¸­å¼•å…¥</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
<span class="token keyword">import</span> VueAxios <span class="token keyword">from</span> <span class="token string">&#39;vue-axios&#39;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueAxios<span class="token punctuation">,</span> axios<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>api<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11);function v(m,b){const s=l("font");return c(),i("div",null,[r,t("p",null,[n("æˆ‘å·²ç»ä¹ æƒ¯äº†Vueçš„å…¨å±€å¼•å…¥axios,ä½†æ˜¯å‘ç°Vue3.Xå·²ç»æŠŠ"),a(s,{color:"#dd0000"},{default:e(()=>[n("prototype")]),_:1}),n("è¿˜æœ‰"),a(s,{color:"#dd0000"},{default:e(()=>[n("this")]),_:1}),n("ç»™å˜äº†,soæˆ‘ä»¬åªæœ‰å¦è¾Ÿè¹Šå¾„ï¼Œç¿»é˜…å®˜ç½‘æ–‡æ¡£æ¨èä½¿ç”¨"),a(s,{color:"#dd0000"},{default:e(()=>[n("globalProperties")]),_:1})]),d,t("p",null,[n("å› ä¸ºVue3ä¸­æ²¡æœ‰ç”¨thisï¼Œä½¿ç”¨æˆ‘ä»¬åªèƒ½ç”¨"),a(s,{color:"#dd0000"},{default:e(()=>[n("getCurrentInstance")]),_:1}),n("æ¥ä»£æ›¿this,å³")]),k])}const h=o(u,[["render",v],["__file","Vue3.X å…¨å±€æŒ‚è½½axiosæ–¹æ³•.html.vue"]]);export{h as default};
